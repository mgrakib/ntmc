<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard | PBI SUPPORT SYSTEM</title>
    <link href="https://cdn.jsdelivr.net/npm/daisyui@2.51.4/dist/full.css" rel="stylesheet" type="text/css" />
    <script src="https://kit.fontawesome.com/d64724f41e.js" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="styles/style.css">
</head>
<body class="bg-[#060818] p-5 relative" onload="getUserData()">

    <section>
        <!-- header section start  -->
        <header class="flex justify-between items-center">
            <!-- logo and title start  -->
            <div class="cursor-pointer flex items-center">
                <div class="w-[50px]">
                    <img src="./assets/logo.png" alt="" class="w-full">
                </div>
                <p class="ml-3 text-2xl text-[#BFEFFF] font-bold">PBI Support System</p>
            </div>
            <!-- logo and title  end-->

            <!-- notice and profile start -->
            <div class="flex items-center gap-4 relative">
                <div class="w-[40px] h-[40px] hover:bg-[#1F2644] rounded-full text-gray-400 text-xl flex items-center justify-center cursor-pointer transition"><i class="fa-regular fa-bell"></i></div>

                <label for="logOutModal">
                    <div id="profileShow" class="flex items-center gap-5 cursor-pointer " for="logOutModal">
                        <div class="w-[45px]">
                        <img src="./assets/logo.png" alt="" class="w-full">
                        </div>
                        <p class="text-[16px] text-[#668CA8]">welcome, <span id="userDashboardName" class="text-[#24D2D7] font-bold">User Name</span></p>
                        <span class="text-white ml-3 font-normal text-[12px]">
                            <i class="fa-solid fa-angle-down"></i>
                        </span>
                    </div>
                </label>


                <!-- The button to open modal -->
                

                
                <input  type="checkbox" id="logOutModal" class="modal-toggle" />
                <label for="logOutModal" class="modal cursor-pointer ">
                <label class="modal-box  w-[150px] h-[120px] absolute right-7 top-[60px] bg-[#1F2644] flex justify-center items-center" for="">
                    <button onclick="logOutUser()" class="bg-red-600 py-2 px-3 rounded-md text-white">Log out</button>
                </label>
                </label>


                <!-- logout btn start -->
                <div id="logoutBtn" class="w-[150px] h-[120px] bg-[rgb(6,8,24)] shadow-[0_0px_5px_0px_rgba(255,255,255,.2)] absolute top-12 right-0 rounded-lg  items-center justify-center hidden">
                        <button class="bg-red-600 py-2 px-3 rounded-md text-white">Log Out</button>
                </div>
                <!-- logout btn start -->
            </div>
            <!-- notice and profile end -->
        </header>
        <!-- header section start  -->

        <!-- main section start  -->
        <main class="py-5">
            <!-- faq and dashboard start  -->
            <section class="bg-[#191E3A] py-4 px-7 rounded-md mb-10">
                <ul class="text-[#E5F0FA] flex gap-10">
                    <li class="border-r pr-10 cursor-pointer">
                        <span class="mr-2"><i class="fa-solid fa-gauge-high"></i></span>
                        Dashboard
                    </li>
                    <li class="cursor-pointer">
                        <span class="mr-2"><i class="fa-solid fa-question"></i></span>
                        FAQ
                    </li>
                </ul>
            </section>
            <!-- faq and dashboard start  -->

            <!-- genaret ticket start  -->
            <section class="grid grid-cols-1 md:grid-cols-4 gap-5">
                <!-- open ticket start -->
                <div class=" bg-[#0E1726] rounded-md ">
                    <div class="flex items-center justify-between px-5 py-8 border-b border-dashed border-[#3B3F5C]">
                        <h1 class="font-bold text-white">Open</h1>
                        <button class="bg-[rgb(226,160,63)] w-[100px] h-[35px] text-white px-2 py-1 rounded-sm text-[12px] shadow-[0px_2px_5px_1px_rgba(226,160,63,.4)] relative top-[2px] hover:shadow-none hover:top-0  transition-all duration-300" onclick="goToCreatTicket()">New Ticket</button>
                    </div>

                    <div class="py-5">
                        <div>
                            <div class="w-[80px] h-[80px] bg-[#191E3A] rounded-full mx-auto flex items-center justify-center shadow-[0_0_10px_1px_rgba(255,255,255,.2)]">
                                <p class="w-[70px] h-[70px] bg-[#060818] rounded-full flex items-center justify-center text-[#25D5E4] font-bold text-3xl" id="countOpenTicket">
                                    0
                                </p>
                            </div>

                            <div class="text-center mt-4">
                                <p class="text-[#00946F] font-bold"><span id="newOpenTicketNum">0</span> new</p>
                                <p class="text-[#83ABBE]"><span class="text-[#1D8CED]"><span id="highPriorityOpenTicketNum">0</span> Ticket</span> with High priotity</p>

                            </div>
                        </div>
                    </div>
                </div>
                <!-- open ticket end -->

                 <!-- Answered ticket start -->
                <div class=" bg-[#0E1726] rounded-md ">
                    <div class="flex items-center justify-between px-5 py-8 border-b border-dashed border-[#3B3F5C]">
                        <h1 class="font-bold text-white">Answered</h1>
                    </div>

                    <div class="py-5">
                        <div>
                            <div class="w-[80px] h-[80px] bg-[#191E3A] rounded-full mx-auto flex items-center justify-center shadow-[0_0_10px_1px_rgba(255,255,255,.2)]">
                                <p class="w-[70px] h-[70px] bg-[#060818] rounded-full flex items-center justify-center text-[#25D5E4] font-bold text-3xl" id="countAnsweredTicket">
                                    0
                                </p>
                            </div>

                            <div class="text-center mt-4">
                                <p class="text-[#00946F] font-bold"><span id="newAnsweredTicketNum">0</span> new</p>
                                <p class="text-[#83ABBE]"><span class="text-[#1D8CED]"><span id="highPriorityAnsweredTicketNum">0</span> Ticket</span> with High priotity</p>

                            </div>
                        </div>
                    </div>
                </div>
                <!-- Answered ticket end -->

                 <!-- InProgress ticket start -->
                <div class=" bg-[#0E1726] rounded-md ">
                    <div class="flex items-center justify-between px-5 py-8 border-b border-dashed border-[#3B3F5C]">
                        <h1 class="font-bold text-white">In Progress</h1>
                    </div>

                    <div class="py-5">
                        <div>
                            <div class="w-[80px] h-[80px] bg-[#191E3A] rounded-full mx-auto flex items-center justify-center shadow-[0_0_10px_1px_rgba(255,255,255,.2)]">
                                <p class="w-[70px] h-[70px] bg-[#060818] rounded-full flex items-center justify-center text-[#25D5E4] font-bold text-3xl" id="countInProgressTicket">
                                    0
                                </p>
                            </div>

                            <div class="text-center mt-4">
                                <p class="text-[#00946F] font-bold"><span id="newInProgressTicketNum">0</span> new</p>
                                <p class="text-[#83ABBE]"><span class="text-[#1D8CED]"><span id="highPriorityInProgressTicketNum">0</span> Ticket</span> with High priotity</p>

                            </div>
                        </div>
                    </div>
                </div>
                <!-- InProgress ticket end -->

                <!-- Close ticket start -->
                <div class=" bg-[#0E1726] rounded-md ">
                    <div class="flex items-center justify-between px-5 py-8 border-b border-dashed border-[#3B3F5C]">
                        <h1 class="font-bold text-white">Close</h1>
                    </div>

                    <div class="py-5">
                        <div>
                            <div class="w-[80px] h-[80px] bg-[#191E3A] rounded-full mx-auto flex items-center justify-center shadow-[0_0_10px_1px_rgba(255,255,255,.2)]">
                                <p class="w-[70px] h-[70px] bg-[#060818] rounded-full flex items-center justify-center text-[#25D5E4] font-bold text-3xl" id="countCloseTicket">
                                    0
                                </p>
                            </div>

                            <div class="text-center mt-4">
                                <p class="text-[#00946F] font-bold"><span id="newCloseTicketNum">0</span> new</p>
                                <p class="text-[#83ABBE]"><span class="text-[#1D8CED]"><span id="highPriorityCloseTicketNum">0</span> Ticket</span> with High priotity</p>

                            </div>
                        </div>
                    </div>
                </div>
                <!-- Close ticket end -->
            </section>
            <!-- genaret ticket end -->


            <!-- show all tickets start -->
            <section class="p-5 bg-[#0E1726] mt-10">
                <!-- search sectin start  -->
                <div class="flex justify-between items-center">
                    <!-- number of Results start-->
                    <div class="flex items-center gap-3">
                        <p class="text-[#7183A8]">Results :</p>
                        <div class="relative">
                           

                            <select onchange="sortByNumber()" name="" id="numberOfResult" class="p-3 rounded-md w-[80px] bg-[#1B2E4B] text-[#079688] outline-none ">
                                <option value="4">4</option>
                                <option value="8">8</option>
                                <option value="10">10</option>
                                <option value="15">15</option>
                                
                            </select>
                             <label for="numberOfResult" class="absolute text-white right-2 top-[50%] -translate-y-1/2 "><i class="fa-solid fa-angle-down"></i></label>
                        </div>
                    </div>
                    <!-- number of Results end -->

                    <div>
                        <div class="w-[150px] bg-[#1B2E4B] flex items-center rounded-md overflow-hidden text-[#D3D3D3]">
                            <input type="text" class="w-[80%] py-2 px-3 outline-none border-0 bg-transparent" placeholder="Search...">
                            <span class=""><i class="fa-solid fa-magnifying-glass"></i></span>
                        </div>
                    </div>
                </div>
                <!-- search sectin end -->

                <!-- all results show start -->
                <div class="my-4">
                    <div class="overflow-x-auto">
                        <table class=" min-w-[1260px] text-center">
                           
                            <thead>
                                <tr class="py-10 text-[#009688] font-normal border-t border-b  border-[rgba(0,150,135,0.4)]">
                                    <td class="w-[6%] py-2">S/N</td> 
                                    <td class="w-[8%]">TICKET DATE</td> 
                                    <td class="w-[13%]">TICKET</td> 
                                    <td class="w-[13%]">ISSUED BY</td> 
                                    <td class="w-[10%]">USER NAME</td> 
                                    <td class="w-[18%]">ORGANIZATION (WINGS)</td> 
                                    <td class="w-[8%]">PROJECT</td>
                                    <td class="w-[8%]">PRIORITY</td>
                                    <td class="w-[8%]">STATUS</td>
                                    <td class="w-[8%]">ACTION</td>
                                </tr>
                        </thead>
                          
                            <tbody id="allTicketsTbody" class="text-center">
                                <!-- <tr class="py-10  text-white">
                                    <td >1</td> 
                                    <td>17/03/2023</td> 
                                    <td>Date and time Modify</td> 
                                    <td>Md. Golam Rakib</td> 
                                    <td>mgrakibbd</td> 
                                    <td class="py-3">National Telicomination and Monitoring Center</td> 
                                    <td>PIDS</td>
                                    <td>High</td>
                                    <td>Active</td>
                                    <td>close</td>
                                </tr> -->
                                
                                 <tr id="noDataMessage" class="hidden">
                                    <td colspan="10" class="pt-7 pb-4"><p class="text-center text-[#656A86]">No data available in table</p>  </td>
                                 </tr>
                            </tbody>
                            
                           
                         
                        </table>
                        
                       
                        </div>
                </div>
                <!-- all results show end -->
            </section>
            <!-- show all tickets end -->
        </main>
        <!-- main section end -->

         <!-- ticket action start  -->
        <section id="actionContainer" class="absolute top-1/2 left-1/2 -translate-y-1/2 -translate-x-1/2 bg-red-500 hidden">
             
            <!-- ticket action modal start  -->
            <div class="w-[900px] p-10 rounded-md bg-[#060818] shadow-[0_0_10px_10px_rgba(0,0,0,.7)]">
                <h1 class="text-3xl text-white font-bold text-center">PBI Support HUB</h1>
                <p class="text-center text-2xl text-white my-3">Ticket No: 0<span id="ticketNo">1</span></p>

                <!-- action buttons start  -->
                <div class="py-10">
                    <!-- priority and statas div start  -->
                    <div  class="flex justify-between items-center text-[#009688]">
                        <p>Status: <span id="actionTicketStatus" class="font-bold text-red-600">Open</span></p>
                        <p>Priority: <span id="actionTicketPriority" class="font-bold text-yellow-500">High</span></p>
                    </div>
                    <!-- priority and statas div start  -->

                    <!-- ticket details  -->
                    <div class="my-5 text-white">
                        <p class="text-xl text-white underline">Ticket Description: </p>
                        <p class="m-3 " id="actionTicketDescription">Offline</p>
                    </div>
                    <!-- ticket details  -->

                    <!-- three buttons start  -->
                    <div class="grid grid-cols-3 items-center">
                        <!-- answered div start  -->
                        <div class='text-center'>
                            <textarea name="" id="" class="w-full h-[100px] rounded-lg p-2"></textarea>
                            <button onclick="answerTicket()" class="btn bg-green-600">Answered</button>
                        </div>
                        <!-- answered div start  -->

                        <!-- in_progress div start  -->
                        <div class='text-center'>
                            <p class="text-gray-500 h-[100px]">I have to word in later</p>
                            <button onclick="inProgressTicket()" class="btn bg-blue-600">In-Progress</button>
                        </div>
                        <!-- in_progress div start  -->

                        <!-- close div start  -->
                        <div class='text-center'>
                            <p class="text-gray-500 h-[100px]">I close this task</p>
                            <button onclick="closeTicket()" class="btn bg-red-600">Close</button>
                        </div>
                        <!-- close div start  -->
                    </div>
                    <!-- three buttons end-->
                </div>
                <!-- action buttons end -->

                <div  class="absolute -top-4 -right-2 ">
                    <span onclick="actionContainerClose()" class="w-[30px] h-[30px] bg-red-600 flex items-center justify-center rounded-full cursor-pointer text-white"><i class="fa-solid fa-xmark"></i></span>
                    
                </div>
            </div>
            <!-- ticket action modal start  -->
        </section>
        

       
    </section>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="./script/utilitys.js"></script>
    <script src="./script/creatTicket.js"></script>
    <script src="./script/dashboard.js"></script>
</body>
</html>